@echo off

REM ---- Configures Teo sources for the Windows (MinGW) platform ----

echo "Configuring Teo sources for the Windows (MinGW) platform..."

echo # generated by mgwmake.bat > makefile
echo MAKEFILE_INC = makefile.mgw >> makefile
echo include makefile.all >> makefile

REM ---- Cleans executable files ----

if exist misc\pack\inno\teow-??.exe del misc\pack\inno\teow-??.exe

REM ---- Compiles English version ----

echo "Creating exec files for Windows setup in English..."

mingw32-make clean
mingw32-make EN_LANG=1
copy teow.exe misc\pack\inno
ren misc\pack\inno\teow.exe teow-en.exe

REM ---- Compiles French version ----

echo "Creating exec files for Windows setup in French..."

mingw32-make clean
mingw32-make FR_LANG=1
copy teow.exe misc\pack\inno
ren misc\pack\inno\teow.exe teow-fr.exe

mingw32-make depend

echo "Create self-install files with Inno Setup now."

